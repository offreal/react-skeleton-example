{"version":3,"sources":["hooks/useRequest.js","components/Users/User/User.jsx","components/Users/User/UserSkeleton.jsx","components/Users/Users.jsx","App.jsx","index.js"],"names":["USE_REQUEST_FETCHED","USE_REQUEST_ERROR","initialState","responseData","isFetching","error","reducer","state","action","type","payload","useRequest","url","React","useReducer","dispatch","useEffect","source","axios","CancelToken","get","cancelToken","token","then","response","setTimeout","data","catch","message","cancel","User","name","email","avatar","className","src","alt","href","UserSkeleton","Users","usersData","users","Array","from","map","_","i","user","first_name","last_name","id","App","Fragment","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"mQAGMA,EAAsB,sBACtBC,EAAoB,oBAKpBC,EAAe,CACnBC,aAAc,KACdC,YAAY,EACZC,MAAO,MAGHC,EAAU,SAACC,EAAOC,GACtB,OAAQA,EAAOC,MACb,KAAKT,EACH,OAAO,2BACFO,GADL,IAEEH,YAAY,EACZD,aAAcK,EAAOE,UAGzB,KAAKT,EACH,OAAO,2BACFM,GADL,IAEEF,MAAOG,EAAOE,UAGlB,QACE,OAAOH,IA+BEI,EA3BI,SAACC,GAAS,IAAD,EACAC,IAAMC,WAAWR,EAASJ,GAD1B,mBACnBK,EADmB,KACZQ,EADY,KAwB1B,OArBAF,IAAMG,WAAU,WACd,IAAMC,EAASC,IAAMC,YAAYF,SAiBjC,OAfAC,IACGE,IAAIR,EAAK,CAAES,YAAaJ,EAAOK,QAC/BC,MAAK,SAACC,GAKLC,YAAW,WA1CK,IAACf,EA2CfK,GA3CeL,EA2CUc,EAASE,KA3CN,CAAEjB,KAAMT,EAAqBU,eA4CxD,SAEJiB,OAAM,SAACtB,GA7CG,IAACK,EA8CVK,GA9CUL,EA8CQL,EAAMuB,QA9CD,CAAEnB,KAAMR,EAAmBS,gBAiD/CO,EAAOY,SACb,CAACjB,IAEGL,GCvCMuB,G,MAhBF,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,KAAMC,EAAoB,EAApBA,MAAOC,EAAa,EAAbA,OAC3B,OACE,sBAAKC,UAAU,OAAf,UACE,qBAAKA,UAAU,SAAf,SACE,qBAAKA,UAAU,gBAAf,SACE,qBAAKA,UAAU,QAAQC,IAAKF,EAAQG,IAAKL,QAG7C,sBAAKG,UAAU,OAAf,UACE,mBAAGA,UAAU,OAAb,SAAqBH,IACrB,mBAAGG,UAAU,QAAQG,KAAI,iBAAYL,GAArC,SAA+CA,YCMxCM,EAhBM,WACnB,OACE,sBAAKJ,UAAU,OAAf,UACE,qBAAKA,UAAU,SAAf,SACE,qBAAKA,UAAU,yBAAf,SACE,qBAAKA,UAAU,uBAGnB,sBAAKA,UAAU,OAAf,UACE,mBAAGA,UAAU,kBACb,mBAAGA,UAAU,0BCgBNK,G,MA1BD,WAAO,IAAD,EAKd5B,EAAW,sCAHbR,EAFgB,EAEhBA,aACAC,EAHgB,EAGhBA,WACAC,EAJgB,EAIhBA,MAGImC,EAAYrC,GAAgBA,EAAauB,KAEzCe,EAAQrC,EACVsC,MAAMC,KAAKD,MAAM,IAAI,kBAAM,KAAGE,KAAI,SAACC,EAAGC,GAAJ,OAAU,cAAC,EAAD,GAAmBA,MAC/DN,EAAUI,KAAI,SAACG,GAAD,OAAU,cAAC,EAAD,CAExBhB,KAAI,UAAKgB,EAAKC,WAAV,YAAwBD,EAAKE,WACjCjB,MAAOe,EAAKf,MACZC,OAAQc,EAAKd,QAHRc,EAAKG,OAMd,OACE,0BAAShB,UAAU,QAAnB,UACG7B,EACAoC,OCNQU,EAfI,WACjB,OACE,eAAC,IAAMC,SAAP,WACE,wBAAQlB,UAAU,SAAlB,SACE,qBAAKA,UAAU,6BAAf,SACE,qBAAKA,UAAU,yCAAf,SACE,oBAAIA,UAAU,aAAd,oCAIN,cAAC,EAAD,QCTNmB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.ff91e536.chunk.js","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nconst USE_REQUEST_FETCHED = 'USE_REQUEST_FETCHED';\nconst USE_REQUEST_ERROR = 'USE_REQUEST_ERROR';\n\nconst setResponseData = (payload) => ({ type: USE_REQUEST_FETCHED, payload });\nconst setError = (payload) => ({ type: USE_REQUEST_ERROR, payload });\n\nconst initialState = {\n  responseData: null,\n  isFetching: true,\n  error: null,\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case USE_REQUEST_FETCHED:\n      return {\n        ...state,\n        isFetching: false,\n        responseData: action.payload\n      }\n\n    case USE_REQUEST_ERROR:\n      return {\n        ...state,\n        error: action.payload\n      }\n\n    default:\n      return state;\n  }\n};\n\nconst useRequest = (url) => {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n\n  React.useEffect(() => {\n    const source = axios.CancelToken.source();\n\n    axios\n      .get(url, { cancelToken: source.token })\n      .then((response) => {\n        /*\n          Custom delay from server\n          ** Remove if non needed\n        */\n        setTimeout(() => {\n          dispatch(setResponseData(response.data));\n        }, 2500)\n      })\n      .catch((error) => {\n        dispatch(setError(error.message));\n      });\n\n    return source.cancel;\n  }, [url])\n\n  return state;\n};\n\nexport default useRequest;\n","import React from 'react';\n\nimport './User.scss';\n\nconst User = ({ name, email, avatar }) => {\n  return (\n    <div className=\"user\">\n      <div className=\"avatar\">\n        <div className=\"image-wrapper\">\n          <img className=\"image\" src={avatar} alt={name} />\n        </div>\n      </div>\n      <div className=\"info\">\n        <p className=\"name\">{name}</p>\n        <a className=\"email\" href={`mailto:${email}`}>{email}</a>\n      </div>\n    </div>\n  )\n}\n\nexport default User;\n","import React from 'react';\n\nimport './User.scss';\n\nconst UserSkeleton = () => {\n  return (\n    <div className=\"user\">\n      <div className=\"avatar\">\n        <div className=\"image-wrapper skeleton\">\n          <div className=\"image skeleton\" />\n        </div>\n      </div>\n      <div className=\"info\">\n        <p className=\"name skeleton\"></p>\n        <p className=\"email skeleton\"></p>\n      </div>\n    </div>\n  )\n}\n\nexport default UserSkeleton;\n","import useRequest from '../../hooks/useRequest';\nimport User, { UserSkeleton } from './User';\nimport './Users.scss';\n\nconst Users = () => {\n  const {\n    responseData,\n    isFetching,\n    error\n  } = useRequest('https://reqres.in/api/users?page=1');\n\n  const usersData = responseData && responseData.data;\n\n  const users = isFetching\n    ? Array.from(Array(6), () => 1).map((_, i) => <UserSkeleton key={i} />)\n    : usersData.map((user) => <User\n      key={user.id}\n      name={`${user.first_name} ${user.last_name}`}\n      email={user.email}\n      avatar={user.avatar}\n    />);\n\n  return (\n    <section className=\"users\">\n      {error}\n      {users}\n    </section>\n  )\n}\n\nexport default Users;\n","import React from 'react';\n\nimport Users from './components/Users';\n\nexport const App = () => {\n  return (\n    <React.Fragment>\n      <header className=\"header\">\n        <nav className=\"navbar navbar-dark bg-dark\">\n          <div className=\"container-fluid justify-content-center\">\n            <h1 className=\"text-light\">Skeleton example</h1>\n          </div>\n        </nav>\n      </header>\n      <Users />\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}